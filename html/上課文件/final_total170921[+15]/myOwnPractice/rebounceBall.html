<!DOCTYPE html>
<html>
    <head>
        <title>Ball Drop Simulation</title>        
    </head>
    
    <body>
        <canvas width="300px" height="200px" id="drawPlane" style="border: 2px solid #2F2222"></canvas>
    <script type="text/javascript">
    
        
        
        
        var c=document.getElementById("drawPlane");
        var ctx=c.getContext('2d');
        var ball = {
            
            x: c.width/2,
            y: c.height/2,
            r:15,
            vx: Math.random()*100,
            vy: 0,
            
            
        }//set ball parameter
        
        setInterval(function(){
        
        
        //fill the canvas with black color
        ctx.save();
        ctx.fillStyle="rgba(0,0,0,0.3)";
        ctx.fillRect(0,0,300,200);
        //ctx.stroke();
        ctx.restore();
        
        //draw the ball
        ctx.save();
        ctx.fillStyle="#fff";
        ctx.beginPath();
        
        //simulate the friction
        ball.vx = 0.99*ball.vx;
        ball.vy = 0.99*ball.vy;
        
        
        ball.vy += 0.25;
        
        //update the ball center
        ball.x += ball.vx;
        ball.y += ball.vy;
        
        if((ball.y + ball.r)>= c.height){
            ball.y = c.height - ball.r;
            ball.vy= -ball.vy;
        }
        
        if ((ball.y - ball.r)<= 0)
        {
            ball.y = ball.r;
            ball.vy= -ball.vy;
        }        
        
        
        if ((ball.x + ball.r)>= c.width)
        {
            ball.x = c.width - ball.r;
            ball.vx= -ball.vx;
        }
        
        if ((ball.x - ball.r)<= 0)
        {
            ball.x = ball.r;
            ball.vx= -ball.vx;
        }
        ctx.arc(ball.x,ball.y,ball.r,0,2*Math.PI);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
        
        
        
            // ctx.save();
            // ctx.translate(ball.x, ball.y);
            // ctx.fillStyle = "#fff";
            // ctx.beginPath();
            // ctx.arc(0, 0, 10, 0, Math.PI * 2, true);
            // ctx.closePath();
            // ctx.fill();
            // ctx.restore();        
        },1000/77);
    </script>
    </body>
    
</html>